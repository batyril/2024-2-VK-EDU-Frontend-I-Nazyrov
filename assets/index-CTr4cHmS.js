(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const c={MESSAGE_LIST:document.querySelector(".message__list"),INPUT:document.querySelector(".form__input"),FORM:document.querySelector("form")};function m(){c.MESSAGE_LIST.scrollTop=c.MESSAGE_LIST.scrollHeight}const i=[],d=r=>new Date(r).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1}),f=({text:r,time:t,name:n})=>{const s=document.querySelector("#message").content.cloneNode(!0);return s.querySelector(".message__text").textContent=r,s.querySelector(".message__time").textContent=d(t),s.querySelector(".message__name").textContent=n,s.querySelector(".message__block").classList.add(n==="me"?"message__block--me":"message__block--other"),s},a=()=>{c.MESSAGE_LIST.innerHTML="",i.forEach(r=>{const t=f(r);c.MESSAGE_LIST.appendChild(t)})},u="messages";function S(){localStorage.setItem(u,JSON.stringify(i))}function g(){const r=localStorage.getItem(u);if(r)try{const t=JSON.parse(r);i.push(...t)}catch(t){console.error("Ошибка при парсинге сообщений из localStorage:",t)}else i.push({name:"Ярослав",text:"Привет! Расскажи о себе?",time:"2024-09-25T11:50:01.205Z"});a()}function p(r){r.preventDefault();const t=new Date,n=c.INPUT.value;n.length<=1||(i.push({name:"me",text:n,time:t}),a(),m(),S(),r.target.reset())}c.FORM.addEventListener("submit",p);a();g();

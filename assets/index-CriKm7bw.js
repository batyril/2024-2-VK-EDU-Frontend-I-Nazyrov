(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const m={MESSAGE_LIST:document.querySelector(".message__list"),CHAT_LIST:document.querySelector(".chat-list"),INPUT:document.querySelector(".form__input"),MESSAGE_FORM:document.getElementById("message__form"),USER_NAME:document.querySelector(".header__username"),HEADER__AVATAR:document.querySelector(".header__avatar"),CREATE_CHAT_BUTTON:document.querySelector(".create-chat"),CHAT_DIALOG:document.getElementById("chat-dialog"),CLOSE_DIALOG_BUTTON:document.getElementById("close-dialog")};function k(){m.MESSAGE_LIST.scrollTop=m.MESSAGE_LIST.scrollHeight}const O=t=>new Date(t).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1});function B(t){return new URLSearchParams(window.location.search).get(t)}const P=()=>Math.floor(Math.random()*1e3),E=t=>JSON.parse(localStorage.getItem(t))||[],D=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},R="userId",S="CHATS",U=t=>{try{return E(S).find(n=>n.userId===Number(t))||[]}catch(e){return console.error("Ошибка при получении сообщений из localStorage:",e),[]}};function j(t){const e=B(R),a=E(S),n=a.findIndex(r=>r.userId===Number(e));n!==-1&&(a[n].messages.push(t),D(S,a))}const T=(t,e=P(),a=[])=>{const n=E(S),r={userId:e,name:t,messages:a};return n.push(r),D(S,n),r};function c(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G(t){var e,a,n,r,o,i,s;const l=(e=t.meta)===null||e===void 0?void 0:e.title,u=(a=t.meta)===null||a===void 0?void 0:a.creator,f=(n=t.meta)===null||n===void 0?void 0:n.source,h=(o=(r=t.meta)===null||r===void 0?void 0:r.license)===null||o===void 0?void 0:o.url,g=F(t);return!l&&!u&&!f&&!h&&!g?"":'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(l?`<dc:title>${c(l)}</dc:title>`:"")+(u?`<dc:creator>${c(u)}</dc:creator>`:"")+(f?`<dc:source xsi:type="dcterms:URI">${c((s=(i=t.meta)===null||i===void 0?void 0:i.source)!==null&&s!==void 0?s:"")}</dc:source>`:"")+(h?`<dcterms:license xsi:type="dcterms:URI">${c(h)}</dcterms:license>`:"")+(g?`<dc:rights>${c(g)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>"}function F(t){var e,a,n,r,o,i,s,l,u,f,h,g,_,$,p;let d=!((e=t.meta)===null||e===void 0)&&e.title?`„${(a=t.meta)===null||a===void 0?void 0:a.title}”`:"Design",y=`„${(r=(n=t.meta)===null||n===void 0?void 0:n.creator)!==null&&r!==void 0?r:"Unknown"}”`;!((o=t.meta)===null||o===void 0)&&o.source&&(d+=` (${t.meta.source})`);let v="";return((s=(i=t.meta)===null||i===void 0?void 0:i.license)===null||s===void 0?void 0:s.name)!=="MIT"&&((l=t.meta)===null||l===void 0?void 0:l.creator)!=="DiceBear"&&(!((u=t.meta)===null||u===void 0)&&u.title)&&(v+="Remix of "),v+=`${d} by ${y}`,!((h=(f=t.meta)===null||f===void 0?void 0:f.license)===null||h===void 0)&&h.name&&(v+=`, licensed under „${(_=(g=t.meta)===null||g===void 0?void 0:g.license)===null||_===void 0?void 0:_.name}”`,!((p=($=t.meta)===null||$===void 0?void 0:$.license)===null||p===void 0)&&p.url&&(v+=` (${t.meta.license.url})`)),v}const Z=-2147483648,V=2147483647;function N(t){return t^=t<<13,t^=t>>17,t^=t<<5,t}function z(t){let e=0;for(let a=0;a<t.length;a++)e=(e<<5)-e+t.charCodeAt(a)|0,e=N(e);return e}function C(t=""){t=t.toString();let e=z(t)||1;const a=()=>e=N(e),n=(r,o)=>Math.floor((a()-Z)/(V-Z)*(o+1-r)+r);return{seed:t,next:a,bool(r=50){return n(1,100)<=r},integer(r,o){return n(r,o)},pick(r,o){var i;return r.length===0?(a(),o):(i=r[n(0,r.length-1)])!==null&&i!==void 0?i:o},shuffle(r){const o=C(a().toString()),i=[...r];for(let s=i.length-1;s>0;s--){const l=o.integer(0,s);[i[s],i[l]]=[i[l],i[s]]}return i},string(r,o="abcdefghijklmnopqrstuvwxyz1234567890"){const i=C(a().toString());let s="";for(let l=0;l<r;l++)s+=o[i.integer(0,o.length-1)];return s}}}function x(t){let e=t.attributes.viewBox.split(" "),a=parseInt(e[0]),n=parseInt(e[1]),r=parseInt(e[2]),o=parseInt(e[3]);return{x:a,y:n,width:r,height:o}}function Y(t,e,a,n,r){let{width:o,height:i,x:s,y:l}=x(t);const u=`<rect fill="${e}" width="${o}" height="${i}" x="${s}" y="${l}" />`;switch(n){case"solid":return u+t.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${o}" height="${i}" x="${s}" y="${l}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${r} 0.5 0.5)"><stop stop-color="${e}"/><stop offset="1" stop-color="${a}"/></linearGradient></defs>`+t.body}}function X(t,e){let{width:a,height:n,x:r,y:o}=x(t),i=e?(e-100)/100:0,s=(a/2+r)*i*-1,l=(n/2+o)*i*-1;return`<g transform="translate(${s} ${l}) scale(${e/100})">${t.body}</g>`}function J(t,e,a){let n=x(t),r=(n.width+n.x*2)*((e??0)/100),o=(n.height+n.y*2)*((a??0)/100);return`<g transform="translate(${r} ${o})">${t.body}</g>`}function K(t,e){let{width:a,height:n,x:r,y:o}=x(t);return`<g transform="rotate(${e}, ${a/2+r}, ${n/2+o})">${t.body}</g>`}function W(t){let{width:e,x:a}=x(t);return`<g transform="scale(-1 1) translate(${e*-1-a*2} 0)">${t.body}</g>`}function Q(t,e){let{width:a,height:n,x:r,y:o}=x(t),i=e?a*e/100:0,s=e?n*e/100:0;return`<mask id="viewboxMask"><rect width="${a}" height="${n}" rx="${i}" ry="${s}" x="${r}" y="${o}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${t.body}</g>`}function ee(t){const e={xmlns:"http://www.w3.org/2000/svg",...t.attributes};return Object.keys(e).map(a=>`${c(a)}="${c(e[a])}"`).join(" ")}function te(t){const e=C(Math.random().toString()),a={};return t.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,(n,r,o,i)=>(a[o]=a[o]||e.string(8),`${r}${a[o]}${i}`))}const ae={type:"object",$schema:"http://json-schema.org/draft-07/schema#",properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function I(t){var e;let a={},n=(e=t.properties)!==null&&e!==void 0?e:{};return Object.keys(n).forEach(r=>{let o=n[r];typeof o=="object"&&o.default!==void 0&&(Array.isArray(o.default)?a[r]=[...o.default]:typeof o.default=="object"?a[r]={...o.default}:a[r]=o.default)}),a}function re(t,e){var a;let n={...I(ae),...I((a=t.schema)!==null&&a!==void 0?a:{}),...e};return JSON.parse(JSON.stringify(n))}function L(t){return t==="transparent"?t:`#${t}`}function ne(t,e,a){var n;let r=t.shuffle(e);r.length<=1||e.length==2&&a=="gradientLinear"?(r=e,t.next()):r=t.shuffle(e),r.length===0&&(r=["transparent"]);const o=r[0],i=(n=r[1])!==null&&n!==void 0?n:r[0];return{primary:L(o),secondary:L(i)}}function oe(t,e={}){var a,n,r,o,i;e=re(t,e);const s=C(e.seed),l=t.create({prng:s,options:e}),u=s.pick((a=e.backgroundType)!==null&&a!==void 0?a:[],"solid"),{primary:f,secondary:h}=ne(s,(n=e.backgroundColor)!==null&&n!==void 0?n:[],u),g=s.integer(!((r=e.backgroundRotation)===null||r===void 0)&&r.length?Math.min(...e.backgroundRotation):0,!((o=e.backgroundRotation)===null||o===void 0)&&o.length?Math.max(...e.backgroundRotation):0);e.size&&(l.attributes.width=e.size.toString(),l.attributes.height=e.size.toString()),e.scale!==void 0&&e.scale!==100&&(l.body=X(l,e.scale)),e.flip&&(l.body=W(l)),e.rotate&&(l.body=K(l,e.rotate)),(e.translateX||e.translateY)&&(l.body=J(l,e.translateX,e.translateY)),f!=="transparent"&&h!=="transparent"&&(l.body=Y(l,f,h,u,g)),(e.radius||e.clip)&&(l.body=Q(l,(i=e.radius)!==null&&i!==void 0?i:0)),e.randomizeIds&&(l.body=te(l));const _=ee(l),$=G(t),p=`<svg ${_}>${$}${l.body}</svg>`;return{toString:()=>p,toJson:()=>{var d;return{svg:p,extra:{primaryBackgroundColor:f,secondaryBackgroundColor:h,backgroundType:u,backgroundRotation:g,...(d=l.extra)===null||d===void 0?void 0:d.call(l)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(p)}`}}const ie={normal:(t,e)=>`<path d="M45.89 36.1c0 8.5-1.26 18.86-10.89 19.82v9.95S31.36 68 26.5 68c-4.86 0-8.5-3.48-8.5-3.48V42a5 5 0 0 1-1.3-9.83C15.36 22.64 17.5 13 32 13c14.59 0 14.24 11.08 13.96 19.81-.04 1.15-.07 2.25-.07 3.29Z" fill="${c(`${e.skin}`)}"/><path d="M35 55.92c-.48.05-.98.07-1.5.07-8.88 0-13.9-7.15-15.5-14.6v23.13S21.64 68 26.5 68c4.86 0 8.5-2.13 8.5-2.13v-9.95Z" fill="#000" fill-opacity=".07"/><path d="M34.63 55.95c-.37.03-.74.04-1.13.04-6.53 0-10.97-3.86-13.5-8.87V48.24c0 5.38 2.61 9.75 8.28 9.75h1.35c3.34.03 4.59.04 5-2.04ZM16.7 32.17A5 5 0 0 0 18.14 42c-.48-1.98-.71-3.99-.71-5.9a46.7 46.7 0 0 1-.73-3.93Z" fill="#000" fill-opacity=".07"/><rect x="36" y="41" width="3" height="2" rx="1" fill="#000" fill-opacity=".07"/>`,wide:(t,e)=>`<path d="M46.07 40.4c.47 7.5.94 15-11.07 15.56v9.91S31.36 68 26.5 68c-4.86 0-8.5-3.48-8.5-3.48V45.1c-.2-1.02-.33-2.06-.41-3.12a5 5 0 0 1-.9-9.8C15.37 22.63 17.52 13 32 13c14.59 0 14.24 11.08 13.96 19.81-.04 1.15-.07 2.25-.07 3.29 0 1.4.09 2.86.18 4.3Z" fill="${c(`${e.skin}`)}"/><path d="M17.59 41.98c-.16-1.97-.16-3.97-.16-5.88a46.7 46.7 0 0 1-.73-3.93 5 5 0 0 0 .89 9.81ZM18 45.1v19.42S21.64 68 26.5 68c4.86 0 8.5-2.13 8.5-2.13v-9.91c-.48.02-.98.03-1.5.03-10.79 0-14.34-4.95-15.5-10.9Z" fill="#000" fill-opacity=".07"/><path d="M34.93 55.96c-.46.02-.93.03-1.43.03-7.25 0-11.23-2.23-13.41-5.5.5 4.82 3.16 8.5 8.3 8.5h1.36c3.8.03 4.92.04 5.18-3.03Z" fill="#000" fill-opacity=".07"/><rect x="36" y="41" width="3" height="2" rx="1" fill="#000" fill-opacity=".07"/>`,thin:(t,e)=>`<path d="M45.89 36.1c0 8.92-3.9 18.9-10.39 20.4l-.5-.06v9.43S31.36 68 26.5 68c-4.86 0-8.5-3.48-8.5-3.48V42a5 5 0 0 1-1.3-9.83C15.36 22.64 17.5 13 32 13c14.59 0 14.24 11.08 13.96 19.81-.04 1.15-.07 2.25-.07 3.29Z" fill="${c(`${e.skin}`)}"/><path d="M18 42v22.52S21.64 68 26.5 68c4.86 0 8.5-2.13 8.5-2.13v-9.43c-7.26-1.02-13.9-7.5-16.45-14.47-.18.02-.37.03-.55.03Z" fill="#000" fill-opacity=".07"/><path d="M16.7 32.17a5 5 0 0 0 1.85 9.8 17.14 17.14 0 0 1-1.12-5.87 46.7 46.7 0 0 1-.73-3.93ZM34.7 56.4c-6.75-1.1-12.9-6.87-15.7-13.3v.4c0 5.65 6.27 14.47 9.38 15.49 2.57.83 5.4.65 6.32-2.6Z" fill="#000" fill-opacity=".07"/><rect x="36" y="41" width="3" height="2" rx="1" fill="#000" fill-opacity=".07"/>`},le={tShirt:(t,e)=>`<rect x="7" y="60" width="40" height="23" rx="9" fill="${c(`${e.body}`)}"/>`,golf:(t,e)=>`<rect x="7" y="60" width="40" height="23" rx="9" fill="${c(`${e.body}`)}"/><path d="M17 58h19v3s-5 1-9.5 1-9.5-1-9.5-1v-3Z" fill="${c(`${e.body}`)}"/><path d="M17 58h19v2s-3 1.5-9.5 1.5S17 60 17 60v-2Z" fill="#000" fill-opacity=".2"/><path d="M16.5 59c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2s-5 1-10 1-10-1-10-1Z" fill="${c(`${e.body}`)}"/>`},se={balndess:(t,e)=>`<g fill="${c(`${e.hair}`)}"><rect x="14" y="26" width="9" height="2" rx="1"/><rect x="14" y="33" width="7" height="2" rx="1"/><rect x="12" y="29" width="13" height="3" rx="1.5"/></g>`,slaughter:(t,e)=>`<path d="M24 25c0 .53-.1 1.04-.3 1.5A3.99 3.99 0 0 1 20 32a4 4 0 0 1-8 0c0-1.05.07-2.78.37-4.32a4 4 0 0 1 4.8-5.5A3.99 3.99 0 0 1 24 25ZM45.85 33.9a4 4 0 0 0 2.78-5.4 3.99 3.99 0 0 0-3.13-5.46c.6 3.14.48 6.61.38 9.78 0 .36-.02.72-.03 1.07Z" fill="${c(`${e.hair}`)}"/>`,ponyTail:(t,e)=>`<path d="M0 10c8-8 13 3 13 3l-2 8s-2 2.5 0 10-2.5 11.5-2.5 11.5S5 45 2 43s-3.4-3.92-3-7.5c.5-4.5 2-3 2-7.5s-9-10-1-18Z" fill="${c(`${e.hair}`)}"/><path d="m13.03 13.18 5.5 2.38-3.56 8.26-5.51-2.38S8.5 19.5 10 16.5c1.5-3 3.03-3.32 3.03-3.32Z" fill="#FF6C98"/><path d="m18 41-1.32-8.82A5 5 0 0 0 18 42v8.3c-1.55-1.37-2.93-3-4.08-4.83-1.7-2.7-2.9-5.8-3.48-9.1-.6-3.28-.58-6.68.04-9.96a25.57 25.57 0 0 1 3.55-9.05 21.32 21.32 0 0 1 6.43-6.5A17.85 17.85 0 0 1 31 8c2.5 0 4.97.45 7.27 1.33 2.3.88 4.4 2.17 6.16 3.8a17.48 17.48 0 0 1 4.12 5.67c.75 1.66 1.21 3.42 1.38 5.2H50v4.29s-.33.15-1 .36v8.5s0 1.4-1.5 2.45c-.52.36-1.22.64-1.9.85.19-1.45.29-2.91.29-4.35 0-1.04.03-2.14.07-3.29.04-1.11.07-2.27.08-3.44-1.85.34-4.37.63-7.58.63C30.62 30 26 28.29 26 28.29v-1A26.13 26.13 0 0 0 24 31c-.75 1.75-.75 3.54-.75 5.05 0 1.5 0 2.73-.75 3.34-1.5 1.2-4.5 1.6-4.5 1.6Z" fill="${c(`${e.hair}`)}"/>`,long:(t,e)=>`<path fill-rule="evenodd" clip-rule="evenodd" d="M48 25a18 18 0 0 0-36-.5V65h11V34.6a65.12 65.12 0 0 0 12.2-3.76 53.45 53.45 0 0 0 10.68-5.64c.24 2.53.15 5.16.08 7.61-.04 1.15-.08 2.25-.08 3.29 0 .4 0 .82-.02 1.23.23-.07.45-.15.64-.24 1.5-.69 1.5-1.6 1.5-1.6V25Zm-33 8a4.98 4.98 0 0 0 0 8v-8Z" fill="${c(`${e.hair}`)}"/>`,curly:(t,e)=>`<g fill="${c(`${e.hair}`)}"><path d="M45.97 32.48a4 4 0 0 0 1.78-4.88 4 4 0 0 0-2.97-7.41c1.42 3.67 1.31 8.22 1.19 12.3Z"/><path d="M36.3 22.76a4.98 4.98 0 0 1-6.36.2 6.98 6.98 0 0 1-6.99 1.74c-.26.28-.56.53-.89.73a3.98 3.98 0 0 1-1.35 6.19c.2.24.3.55.3.88a1.5 1.5 0 0 1-1.53 1.5 4 4 0 0 1-7.3-3.17 3.99 3.99 0 0 1 0-5.66 4 4 0 0 1 .74-3.71 7 7 0 0 1 4.1-10.17V11a4 4 0 0 1 5.94-3.5 7 7 0 0 1 9.8-2.42 6.48 6.48 0 0 1 10.78 1.95 4 4 0 0 1 3.43 4.58 7.33 7.33 0 0 1 3.05 5.9c0 4.14-3.58 7.5-8 7.5a8.25 8.25 0 0 1-5.7-2.24Z"/></g>`,stylish:(t,e)=>`<path d="M20.67 28.22v6.02c0 .76-.67 1.76-1.17 2.26-.5.5-2 1.5-2.85 1.5-.85 0-3.54-.45-4.83-2.26-1.28-1.8-.89-11.32 0-13.54.9-2.21 4.19-6.88 8.85-10.45a26.26 26.26 0 0 1 12.88-5.34C58.48 3.4 49.22 20.99 46 25.5c-5.5-2-9.5-2.5-16.72-1.53-7.21.99-8.01 1.99-8.6 4.24Z" fill="${c(`${e.hair}`)}"/>`,elvis:(t,e)=>`<path d="M22 28c-.63 3 1 6.98 1 7.74 0 .77-3.93 3.03-5 3.76-1.07.73-1.5-7-1.5-7-3 0-3.5 5.5-3.5 5.5s-2.25-.74-3-4.5c-.51-2.54.3-8.09.5-9.5.5-3.5 1-11.5 7.5-15.5s23-4 27-3C54.9 7.97 56.22 21.5 53 26c-5 5.5-19-1-23.5-1s-6.87 0-7.5 3Z" fill="${c(`${e.hair}`)}"/>`,classic02:(t,e)=>`<path d="M28.12 27.47C35.92 28.6 49.6 30.6 51 18 52 9 38.5-1.5 24 8c-9.1 1.35-11.39 8.28-11.9 14.26a3.99 3.99 0 0 0-.8 4.24 3.99 3.99 0 0 0 .87 4.33A4 4 0 1 0 20 32a4 4 0 0 0 3.87-5H24c.95 0 2.4.21 4.12.47Z" fill="${c(`${e.hair}`)}"/>`,classic01:(t,e)=>`<path d="M29.7 26.2c5.6 1.87 13.39 4.45 21.53-3.7 4-4-14-21-28.5-11.5-11.33 1.68-10.68 8.47-10.18 13.71.1 1 .18 1.95.18 2.8 0 .52.07.92.2 1.2-.16 1.24-.2 2.48-.2 3.3a4 4 0 1 0 8 0A4 4 0 0 0 24.61 27h.12a4 4 0 0 0 3.06-1.41c.6.18 1.24.4 1.9.61Z" fill="${c(`${e.hair}`)}"/>`},ce={default:(t,e)=>'<path d="M27.93 46a1 1 0 0 1 1-1h9.14a1 1 0 0 1 1 1 5 5 0 0 1-5 5h-1.14a5 5 0 0 1-5-5Z" fill="#66253C"/><path d="M35.76 50.7a5 5 0 0 1-1.69.3h-1.14a5 5 0 0 1-5-4.8c.77-.29 1.9-.25 3.02-.22L32 46c2.21 0 4 1.57 4 3.5 0 .42-.09.83-.24 1.2Z" fill="#B03E67"/><path d="M29 45h10v1a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-1Z" fill="#fff"/>',missingTooth:(t,e)=>'<path d="M27.93 46a1 1 0 0 1 1-1h9.14a1 1 0 0 1 1 1 5 5 0 0 1-5 5h-1.14a5 5 0 0 1-5-5Z" fill="#66253C"/><path d="M35.76 50.7a5 5 0 0 1-1.69.3h-1.14a5 5 0 0 1-5-4.8c.77-.29 1.9-.25 3.02-.22L32 46c2.21 0 4 1.57 4 3.5 0 .42-.09.83-.24 1.2Z" fill="#B03E67"/><path d="M29 45h10v1a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-1Z" fill="#fff"/><path d="M31 45.3c0-.17.13-.3.3-.3h1.4c.17 0 .3.13.3.3v2.4a.3.3 0 0 1-.3.3h-1.4a.3.3 0 0 1-.3-.3v-2.4Z" fill="#B03E67"/>'},de={normal:(t,e)=>{var a,n;return`<g fill="${c(`${e.hair}`)}"><rect x="30" y="36" width="3" height="4" rx="1.5"/><rect x="40" y="36" width="3" height="4" rx="1.5"/></g>${(n=(a=t.blushes)===null||a===void 0?void 0:a.value(t,e))!==null&&n!==void 0?n:""}`},confident:(t,e)=>{var a,n;return`${(n=(a=t.blushes)===null||a===void 0?void 0:a.value(t,e))!==null&&n!==void 0?n:""}<path d="M43 37.5a1.5 1.5 0 0 1-3 0v-1.23c0-.15.12-.27.27-.27h2.46c.15 0 .27.12.27.27v1.23ZM33 37.5a1.5 1.5 0 0 1-3 0v-1.23c0-.15.12-.27.27-.27h2.46c.15 0 .27.12.27.27v1.23Z" fill="${c(`${e.hair}`)}"/><path stroke="${c(`${e.hair}`)}" stroke-linecap="round" d="M29.5 36.5h4M39.5 36.5h4"/>`},happy:(t,e)=>{var a,n;return`${(n=(a=t.blushes)===null||a===void 0?void 0:a.value(t,e))!==null&&n!==void 0?n:""}<path d="M30 37.5a1.5 1.5 0 0 1 3 0v1.23c0 .15-.12.27-.27.27h-2.46a.27.27 0 0 1-.27-.27V37.5ZM40 37.5a1.5 1.5 0 0 1 3 0v1.23c0 .15-.12.27-.27.27h-2.46a.27.27 0 0 1-.27-.27V37.5Z" fill="#1B0B47"/>`}},ue={normal:(t,e)=>'<g stroke="#000" stroke-width="2"><circle cx="30.27" cy="36.27" r="4.27"/><circle cx="44.27" cy="36.27" r="4.27"/><path d="m33.99 35.11 7-.1"/></g>'},me={pencilThinBeard:(t,e)=>`<path d="M26.5 45s4.5-.5 11-2v2c-1.5.67-5.5 1.6-7.5 2-2.5.5-3.5-2-3.5-2ZM48 44.76S44 44 38 43v2c1.43.59 4.6 1.15 6.5 1.5 2.38.44 3.5-1.74 3.5-1.74ZM33.31 55.24a1 1 0 0 1 .97-1.24h3.44a1 1 0 0 1 .97 1.24l-.25 1a1 1 0 0 1-.97.76h-2.94a1 1 0 0 1-.97-.76l-.25-1Z" fill="${c(`${e.hair}`)}"/>`,pencilThin:(t,e)=>`<path d="M37.5 43c-6.5 1.5-11 2-11 2s1 2.5 3.5 2c2-.4 6-1.33 7.5-2v-2ZM38 43c6 1 10 1.76 10 1.76s-1.12 2.18-3.5 1.74l-.32-.06c-1.92-.35-4.83-.89-6.18-1.44v-2Z" fill="${c(`${e.hair}`)}"/>`,horshoe:(t,e)=>`<path d="M27 46a3 3 0 0 1 3-3h11a3 3 0 0 1 3 3v11a4 4 0 0 1-4-4v-7h-9v7a4 4 0 0 1-4 4V46Z" fill="${c(`${e.hair}`)}"/>`,freddy:(t,e)=>`<path d="M28 46a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3H28Z" fill="${c(`${e.hair}`)}"/>`},he={default:(t,e)=>'<g fill="#FF859B"><rect x="24" y="39" width="5" height="3" rx="1.5"/><rect x="43" y="39" width="4" height="3" rx="1.5"/></g>'},fe=Object.freeze(Object.defineProperty({__proto__:null,blushes:he,body:le,eyes:de,glasses:ue,hair:se,head:ie,mouth:ce,mustache:me},Symbol.toStringTag,{value:"Module"}));function b({prng:t,group:e,values:a=[]}){const n=fe,r=t.pick(a);if(r&&n[e][r])return{name:r,value:n[e][r]}}function ge({prng:t,options:e}){const a=b({prng:t,group:"head",values:e.head}),n=b({prng:t,group:"body",values:e.body}),r=b({prng:t,group:"hair",values:e.hair}),o=b({prng:t,group:"mouth",values:e.mouth}),i=b({prng:t,group:"eyes",values:e.eyes}),s=b({prng:t,group:"glasses",values:e.glasses}),l=b({prng:t,group:"mustache",values:e.mustache}),u=b({prng:t,group:"blushes",values:e.blushes});return{head:a,body:n,hair:r,mouth:o,eyes:i,glasses:t.bool(e.glassesProbability)?s:void 0,mustache:t.bool(e.mustacheProbability)?l:void 0,blushes:t.bool(e.blushesProbability)?u:void 0}}function A(t){return t==="transparent"?t:`#${t}`}function pe({prng:t,options:e}){var a,n,r;return{skin:A(t.pick((a=e.skinColor)!==null&&a!==void 0?a:[],"transparent")),hair:A(t.pick((n=e.hairColor)!==null&&n!==void 0?n:[],"transparent")),body:A(t.pick((r=e.bodyColor)!==null&&r!==void 0?r:[],"transparent"))}}const ve={$schema:"http://json-schema.org/draft-07/schema#",properties:{blushes:{type:"array",items:{type:"string",enum:["default"]},default:["default"]},blushesProbability:{type:"integer",minimum:0,maximum:100,default:50},body:{type:"array",items:{type:"string",enum:["tShirt","golf"]},default:["tShirt","golf"]},bodyColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["e05a33","3633e0","ff4dd8"]},eyes:{type:"array",items:{type:"string",enum:["normal","confident","happy"]},default:["normal","confident","happy"]},glasses:{type:"array",items:{type:"string",enum:["normal"]},default:["normal"]},glassesProbability:{type:"integer",minimum:0,maximum:100,default:20},hair:{type:"array",items:{type:"string",enum:["balndess","slaughter","ponyTail","long","curly","stylish","elvis","classic02","classic01"]},default:["balndess","slaughter","ponyTail","long","curly","stylish","elvis","classic02","classic01"]},hairColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["47280b","1b0b47","ad3a20"]},head:{type:"array",items:{type:"string",enum:["normal","wide","thin"]},default:["normal","wide","thin"]},mouth:{type:"array",items:{type:"string",enum:["default","missingTooth"]},default:["default","missingTooth"]},mustache:{type:"array",items:{type:"string",enum:["pencilThinBeard","pencilThin","horshoe","freddy"]},default:["pencilThinBeard","pencilThin","horshoe","freddy"]},mustacheProbability:{type:"integer",minimum:0,maximum:100,default:20},skinColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffcb7e","f5d0c5","836055"]}}},ye={title:"Miniavs - Free Avatar Creator",creator:"Webpixels",source:"https://www.figma.com/community/file/923211396597067458",homepage:"https://webpixels.io/",license:{name:"CC BY 4.0",url:"https://creativecommons.org/licenses/by/4.0/"}},_e=({prng:t,options:e})=>{var a,n,r,o,i,s,l,u,f,h,g,_,$,p;const d=ge({prng:t,options:e}),y=pe({prng:t,options:e});return{attributes:{viewBox:"0 0 64 64",fill:"none","shape-rendering":"auto"},body:`${(n=(a=d.head)===null||a===void 0?void 0:a.value(d,y))!==null&&n!==void 0?n:""}${(o=(r=d.body)===null||r===void 0?void 0:r.value(d,y))!==null&&o!==void 0?o:""}${(s=(i=d.hair)===null||i===void 0?void 0:i.value(d,y))!==null&&s!==void 0?s:""}<g transform="translate(1)">${(u=(l=d.mouth)===null||l===void 0?void 0:l.value(d,y))!==null&&u!==void 0?u:""}</g><g transform="translate(0 -1)">${(h=(f=d.eyes)===null||f===void 0?void 0:f.value(d,y))!==null&&h!==void 0?h:""}</g>${(_=(g=d.glasses)===null||g===void 0?void 0:g.value(d,y))!==null&&_!==void 0?_:""}${(p=($=d.mustache)===null||$===void 0?void 0:$.value(d,y))!==null&&p!==void 0?p:""}`,extra:()=>({...Object.entries(d).reduce((v,[w,M])=>(v[w]=M==null?void 0:M.name,v),{}),...Object.entries(y).reduce((v,[w,M])=>(v[`${w}Color`]=M,v),{})})}},$e=Object.freeze(Object.defineProperty({__proto__:null,create:_e,meta:ye,schema:ve},Symbol.toStringTag,{value:"Module"}));function be(t){return oe($e,{seed:t,scale:80,radius:20}).toString()}const q=t=>{const e=be(t),a=document.createElement("div");return a.className="avatar",a.innerHTML=e,a},H=({text:t,time:e,name:a})=>{const n=document.querySelector("#message").content.cloneNode(!0);return n.querySelector(".message__text").textContent=t,n.querySelector(".message__time").textContent=O(e),n.querySelector(".message__name").textContent=a,n.querySelector(".message__block").classList.add(a==="me"?"message__block--me":"message__block--other"),n},Se=({name:t,messages:e,userId:a})=>{const n=document.querySelector("#chat").content.cloneNode(!0),r=e[e.length-1],o=n.querySelector(".chat-item");o.href=`chat.html?userId=${a}`,r||n.querySelector(".chat-item__status").remove(),n.querySelector(".chat-item__name").textContent=t,n.querySelector(".chat-item__message").textContent=(r==null?void 0:r.text)??"",n.querySelector(".chat-item__time").textContent=r!=null&&r.time?O(r==null?void 0:r.time):"";const i=q(t);return n.querySelector(".chat-item").prepend(i),n},xe=()=>{m.CHAT_LIST.innerHTML="",(JSON.parse(localStorage.getItem(S))||[]).forEach(e=>{const a=Se(e);m.CHAT_LIST.appendChild(a)})},Me=()=>{const t=B(R);if(!t)return;m.MESSAGE_LIST.innerHTML="";const e=U(t);m.USER_NAME.textContent=e.name;const a=q(e.name);m.HEADER__AVATAR.replaceWith(a),e.messages.forEach(n=>{const r=H(n);m.MESSAGE_LIST.appendChild(r)}),k()},Te=t=>{const e=H(t);m.MESSAGE_LIST.appendChild(e)},Ce=()=>{m.CHAT_DIALOG.showModal()},we=()=>{m.CHAT_DIALOG.close()},Ae=t=>{t.preventDefault();const e=new Date,a=m.INPUT.value;if(!a.length)return;const n={name:"me",text:a,time:e};j(n),Te(n),k(),t.target.reset()},Ee=t=>{t.preventDefault();const e=t.target.elements.username.value;if(e){const{userId:a}=T(e);window.location.href=`chat.html?userId=${a}`}};function Ze(){localStorage.length>0||(T("Артем",1,[{name:"Артем",text:"Привет! Как дела?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Привет! Нормально, только устала после работы. А у тебя?",time:"2024-09-25T11:50:01.205Z"},{name:"Артем",text:"Тоже ничего, только приехала с дачи. У вас есть планы на вечер?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Да, собираюсь сходить в кино с подругой. А ты?",time:"2024-09-25T11:50:01.205Z"}]),T("Ксюша",2,[{name:"Ксюша",text:"Привет! Слышал, ты уволился с работы?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Привет! Да, свалил оттуда, как от чумы. Работал там просто невыносимо.",time:"2024-09-25T11:50:01.205Z"},{name:"Ксюша",text:"А что дальше? Уже нашел новую?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Пока нет, но уже активно ищу. Надеюсь, что-нибудь подвернется.",time:"2024-09-25T11:50:01.205Z"}]),T("Ольга",3,[{name:"Ольга",text:"Привет! Как успехи с йогой?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Привет! Спасибо, что спросила! Занимаюсь уже месяц, чувствую себя намного лучше.",time:"2024-09-25T11:50:01.205Z"},{name:"Ольга",text:"Это здорово! А какой тебе стиль больше всего нравится?",time:"2024-09-25T11:50:01.205Z"},{name:"me",text:"Мне очень нравится хатха-йога. Она помогает расслабиться и настроиться на позитив.",time:"2024-09-25T11:50:01.205Z"}]))}Ze();m.MESSAGE_LIST&&(m.MESSAGE_FORM.addEventListener("submit",Ae),Me());m.CHAT_LIST&&(m.CREATE_CHAT_BUTTON.addEventListener("click",Ce),m.CLOSE_DIALOG_BUTTON.addEventListener("click",we),m.CHAT_DIALOG.addEventListener("submit",Ee),xe());

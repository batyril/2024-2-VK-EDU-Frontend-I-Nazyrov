(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const c={MESSAGE_LIST:document.querySelector(".message__list"),INPUT:document.querySelector(".form__input"),FORM:document.querySelector("form")};function i(){c.MESSAGE_LIST.scrollTop=c.MESSAGE_LIST.scrollHeight}const l="messages",u=()=>{try{return JSON.parse(localStorage.getItem(l))||[]}catch(e){return console.error("Ошибка при получении сообщений из localStorage:",e),[]}};function m(e){const s=u();s.push(e),localStorage.setItem(l,JSON.stringify(s))}function d(){localStorage.getItem(l)||m({name:"Ярослав",text:"Привет! Расскажи о себе?",time:"2024-09-25T11:50:01.205Z"})}const S=e=>new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1}),g=({text:e,time:s,name:n})=>{const o=document.querySelector("#message").content.cloneNode(!0);return o.querySelector(".message__text").textContent=e,o.querySelector(".message__time").textContent=S(s),o.querySelector(".message__name").textContent=n,o.querySelector(".message__block").classList.add(n==="me"?"message__block--me":"message__block--other"),o},f=()=>{c.MESSAGE_LIST.innerHTML="",u().forEach(s=>{const n=g(s);c.MESSAGE_LIST.appendChild(n)}),i()},p=e=>{const s=g(e);c.MESSAGE_LIST.appendChild(s)};function _(e){e.preventDefault();const s=new Date,n=c.INPUT.value;if(!n.length)return;const o={name:"me",text:n,time:s};m(o),p(o),i(),e.target.reset()}c.FORM.addEventListener("submit",_);d();f();
